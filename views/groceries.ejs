<!-- 

    groceries.ejs

    A template for displaying the 

 -->

 <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="card">
                    <div class="card-content">
                        <div class="card-title">Your shopping list: </div>
                        <table class="highlight responsive-table">
                            <thead>
                                <tr>
                                    <th>Item</th>
                                    <th>Quantity</th>
                                    <th>Cost</th>
                                    <th>Protein</th>
                                    <th>Fat</th>
                                    <th>Carbs</th>
                                    <th>Calories</th>
                                </tr>
                            </thead>
                            <tbody>
                                <% for (let item of groceries){ %>
                                <tr>
                                    <th><%= item.name %></th>
                                    <th><%= item.amount %>g</th>
                                    <th>Â£<%= (item.cost/100).toFixed(2) %></th>
                                    <th><%= item.protein %>g</th>
                                    <th><%= item.fat %></th>
                                    <th><%= item.carbs %></th>
                                    <th><%= item.calories %></th>
                                </tr>
                                
                                
                                <% } %>

                            </tbody>
                        </table>
                        <br>
                        <table>
                            <thead>
                                <tr>
                                    <th></th>
                                    <th></th>
                                    <th>Cost</th>
                                    <th>Protein</th>
                                    <th>Fat</th>
                                    <th>Carbs</th>
                                    <th>Calories</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th>Totals :</th>
                                    <th></th>
                                    <th><%= groceries.map(item => item.cost).reduce((acc,ele) => (acc+ele),0) %></th>
                                    <th><%= groceries.map(item => item.protein).reduce((acc,ele) => (acc+ele),0) %></th>
                                    <th><%= groceries.map(item => item.fat).reduce((acc,ele) => (acc+ele),0) %></th>
                                    <th><%= groceries.map(item => item.carbs).reduce((acc,ele) => (acc+ele),0) %></th>
                                    <th><%= groceries.map(item => item.calories).reduce((acc,ele) => (acc+ele),0) %></th>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="card-action">
                        <a href="#!">Download</a>
                        <a href="#!">Modify</a>
                    </div>
                </div>
            </div>
        </div>
    </div>